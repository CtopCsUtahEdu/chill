// this source is derived from CHILL AST originally from file 'jacobi_1d.c' as parsed by frontend compiler rose

#define N       1024

void jacobi(double A[1024], double B[1024]) {
  int t6;
  int t4;
  int t2;
  for (t2 = 3; t2 <= 3043; t2 += 32) {
    for (t4 = (1 > -(-(t2 - 1023) / 2) ? 1 : -(-(t2 - 1023) / 2)); t4 <= (1023 < (t2 - 993) / 2 ? 1023 : (t2 - 993) / 2); t4 += 1) {
      for (t6 = t2; t6 <= 2 * t4 + 1022; t6 += 1) {
        B[-(2 * t4) + t6] = 0.25 * (A[-(2 * t4) + t6 - 1] + A[-(2 * t4) + t6 + 1]) + 0.5 * A[-(2 * t4) + t6];
        A[-(2 * t4) + t6 - 1] = B[-(2 * t4) + t6 - 1];
      }
      A[-(2 * t4) + (2 * t4 + 1023) - 1] = B[-(2 * t4) + (2 * t4 + 1023) - 1];
    }
    for (t4 = (1 > -(-(t2 - 991) / 2) ? 1 : -(-(t2 - 991) / 2)); t4 <= (1023 < (t2 - 3) / 2 ? 1023 : (t2 - 3) / 2); t4 += 1) 
      for (t6 = t2; t6 <= t2 + 31; t6 += 1) {
        B[-(2 * t4) + t6] = 0.25 * (A[-(2 * t4) + t6 - 1] + A[-(2 * t4) + t6 + 1]) + 0.5 * A[-(2 * t4) + t6];
        A[-(2 * t4) + t6 - 1] = B[-(2 * t4) + t6 - 1];
      }
    for (t4 = -(-(t2 - 1) / 2); t4 <= (1023 < (t2 + 29) / 2 ? 1023 : (t2 + 29) / 2); t4 += 1) {
      B[-(2 * t4) + (2 * t4 + 1)] = 0.25 * (A[-(2 * t4) + (2 * t4 + 1) - 1] + A[-(2 * t4) + (2 * t4 + 1) + 1]) + 0.5 * A[-(2 * t4) + (2 * t4 + 1)];
      for (t6 = 2 * t4 + 2; t6 <= t2 + 31; t6 += 1) {
        B[-(2 * t4) + t6] = 0.25 * (A[-(2 * t4) + t6 - 1] + A[-(2 * t4) + t6 + 1]) + 0.5 * A[-(2 * t4) + t6];
        A[-(2 * t4) + t6 - 1] = B[-(2 * t4) + t6 - 1];
      }
    }
  }
}
